System.register(["./ee0159c0.js"],(function(t){"use strict";var e,n,r,i,o,a,s,l,c,u,d,h,p,f,v,m,y,g,b,x,w,k,C,T;return{setters:[function(t){e=t.O,n=t.P,r=t.Q,i=t.R,o=t.U,a=t.V,s=t.X,l=t.Y,c=t.$,u=t.a0,d=t.a1,h=t.a2,p=t.a3,f=t.a4,v=t._,m=t.a5,y=t.a6,g=t.a7,b=t.a8,x=t.a9,w=t.aa,k=t.ab,C=t.ac,T=t.ad}],execute:function(){var O=new Set;new MutationObserver((function(){var t="rtl"===document.documentElement.dir?document.documentElement.dir:"ltr";O.forEach((function(e){e.setAttribute("dir",t)}))})).observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});var E,A,R=function(t){e(a,t);var o=n(a);function a(){return r(this,a),o.apply(this,arguments)}return i(a)}((E=function(t){e(a,t);var o=n(a);function a(){var t;return r(this,a),(t=o.apply(this,arguments)).dir="ltr",t}return i(a,[{key:"isLTR",get:function(){return"ltr"===this.dir}},{key:"hasVisibleFocusInTree",value:function(){var t=this.getRootNode().activeElement;if(!t)return!1;try{return t.matches(":focus-visible")||t.matches(".focus-visible")}catch(e){return t.matches(".focus-visible")}}},{key:"connectedCallback",value:function(){var t,e=this;if(!this.hasAttribute("dir")){for(var n=this.assignedSlot||this.parentNode;n!==document.documentElement&&void 0===(t=n).startManagingContentDirection&&"SP-THEME"!==t.tagName;)n=n.assignedSlot||n.parentNode||n.host;var r=this.dir;if(this.dir="rtl"===n.dir?n.dir:this.dir||"ltr",r===this.dir&&this.setAttribute("dir",this.dir),n===document.documentElement)O.add(this);else{var i=n.localName;i.search("-")>-1&&!customElements.get(i)?customElements.whenDefined(i).then((function(){n.startManagingContentDirection(e)})):n.startManagingContentDirection(this)}this._dirParent=n}s(l(a.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){s(l(a.prototype),"disconnectedCallback",this).call(this),this._dirParent&&(this._dirParent===document.documentElement?O.delete(this):this._dirParent.stopManagingContentDirection(this),this.removeAttribute("dir"))}}]),a}(c),o([a({reflect:!0})],E.prototype,"dir",void 0),E)),P=u(A||(A=d(["\n@keyframes sp-overlay-fade-in{0%{opacity:0;transform:var(--sp-overlay-from)}to{opacity:1;transform:translate(0)}}@keyframes sp-overlay-fade-out{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:var(--sp-overlay-from)}}:host{display:inline-block;left:-9999em;pointer-events:none;position:absolute;top:-9999em;z-index:1000}:host(:focus){outline:none}:host([placement=none]){height:100vh;height:-webkit-fill-available;height:fill-available;left:0;max-height:var(--swc-visual-viewport-height);position:fixed;top:0}#contents,sp-theme{height:100%}#contents{--swc-overlay-animation-distance:var(\n--spectrum-picker-m-texticon-popover-offset-y,var(--spectrum-global-dimension-size-75)\n);animation-duration:var(\n--swc-test-duration,var(--spectrum-global-animation-duration-200,.16s)\n);animation-timing-function:var(\n--spectrum-global-animation-ease-out,ease-out\n);box-sizing:border-box;display:inline-block;opacity:1;pointer-events:none;visibility:visible}:host([actual-placement*=top]) #contents{--sp-overlay-from:translateY(var(--spectrum-global-dimension-size-75));align-items:flex-end;display:inline-flex;padding-top:var(--swc-overlay-animation-distance)}:host([actual-placement*=right]) #contents{--sp-overlay-from:translateX(calc(var(--spectrum-global-dimension-size-75)*-1));padding-right:var(--swc-overlay-animation-distance)}:host([actual-placement*=bottom]) #contents{--sp-overlay-from:translateY(calc(var(--spectrum-global-dimension-size-75)*-1));padding-bottom:var(--swc-overlay-animation-distance)}:host([actual-placement*=left]) #contents{--sp-overlay-from:translateX(var(--spectrum-global-dimension-size-75));padding-left:var(--swc-overlay-animation-distance)}:host([animating]) ::slotted(*){pointer-events:none}:host(:not([animating])) ::slotted(*){pointer-events:auto}#contents ::slotted(*){position:relative}\n"]))),L=function t(e){if(!e)return null;var n=e.closest("active-overlay");if(n)return n;var r=e.getRootNode();return r.host?t(r.host):null},F=function t(e,n){var r=[];if(!e)return[];var i,o=h(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.root&&(L(a.root)===e&&(r.push(a),r.push.apply(r,p(t(a,n)))))}}catch(t){o.e(t)}finally{o.f()}return r},D=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"],M=["mainAxis","crossAxis","limiter"],N=["apply"];function W(t){return t.split("-")[0]}function _(t){return t.split("-")[1]}function H(t){return["top","bottom"].includes(W(t))?"x":"y"}function S(t){return"y"===t?"height":"width"}function I(t,e,n){var r,i=t.reference,o=t.floating,a=i.x+i.width/2-o.width/2,s=i.y+i.height/2-o.height/2,l=H(e),c=S(l),u=i[c]/2-o[c]/2,d="x"===l;switch(W(e)){case"top":r={x:a,y:i.y-o.height};break;case"bottom":r={x:a,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:s};break;case"left":r={x:i.x-o.width,y:s};break;default:r={x:i.x,y:i.y}}switch(_(e)){case"start":r[l]-=u*(n&&d?-1:1);break;case"end":r[l]+=u*(n&&d?-1:1)}return r}var z=function(){var t=f(v().mark((function t(e,n,r){var i,o,a,s,l,c,u,d,h,p,f,y,x,w,k,C,T,O,E,A,R,P,L,F,D;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.placement,o=void 0===i?"bottom":i,a=r.strategy,s=void 0===a?"absolute":a,l=r.middleware,c=void 0===l?[]:l,u=r.platform,t.next=3,null==u.isRTL?void 0:u.isRTL(n);case 3:if(d=t.sent,"production"===process.env.NODE_ENV){t.next=8;break}if(null==u&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),!(c.filter((function(t){var e=t.name;return"autoPlacement"===e||"flip"===e})).length>1)){t.next=8;break}throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement`","middleware detected. This will lead to an infinite loop. Ensure only","one of either has been passed to the `middleware` array."].join(" "));case 8:return t.next=10,u.getElementRects({reference:e,floating:n,strategy:s});case 10:h=t.sent,p=I(h,o,d),f=p.x,y=p.y,x=o,w={},k=0,C=0;case 16:if(!(C<c.length)){t.next=50;break}return T=c[C],O=T.name,E=T.fn,t.next=20,E({x:f,y:y,initialPlacement:o,placement:x,strategy:s,middlewareData:w,rects:h,platform:u,elements:{reference:e,floating:n}});case 20:if(A=t.sent,R=A.x,P=A.y,L=A.data,F=A.reset,f=null!=R?R:f,y=null!=P?P:y,w=g(g({},w),{},m({},O,g(g({},w[O]),L))),"production"!==process.env.NODE_ENV&&k>50&&console.warn(["Floating UI: The middleware lifecycle appears to be running in an","infinite loop. This is usually caused by a `reset` continually","being returned without a break condition."].join(" ")),!(F&&k<=50)){t.next=47;break}if(k++,"object"!==b(F)){t.next=45;break}if(F.placement&&(x=F.placement),!F.rects){t.next=42;break}if(!0!==F.rects){t.next=40;break}return t.next=37,u.getElementRects({reference:e,floating:n,strategy:s});case 37:t.t0=t.sent,t.next=41;break;case 40:t.t0=F.rects;case 41:h=t.t0;case 42:D=I(h,x,d),f=D.x,y=D.y;case 45:return C=-1,t.abrupt("continue",47);case 47:C++,t.next=16;break;case 50:return t.abrupt("return",{x:f,y:y,placement:x,strategy:s,middlewareData:w});case 51:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();function U(t){return"number"!=typeof t?function(t){return g({top:0,right:0,bottom:0,left:0},t)}(t):{top:t,right:t,bottom:t,left:t}}function j(t){return g(g({},t),{},{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}function B(t,e){return V.apply(this,arguments)}function V(){return V=f(v().mark((function t(e,n){var r,i,o,a,s,l,c,u,d,h,p,f,m,y,b,x,w,k,C,T,O,E;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),i=e.x,o=e.y,a=e.platform,s=e.rects,l=e.elements,c=e.strategy,d=(u=n).boundary,h=void 0===d?"clippingAncestors":d,p=u.rootBoundary,f=void 0===p?"viewport":p,m=u.elementContext,y=void 0===m?"floating":m,b=u.altBoundary,x=void 0!==b&&b,w=u.padding,k=U(void 0===w?0:w),C="floating"===y?"reference":"floating",T=l[x?C:y],t.t0=j,t.t1=a,t.next=10,null==a.isElement?void 0:a.isElement(T);case 10:if(t.t2=r=t.sent,null==t.t2){t.next=15;break}t.t3=r,t.next=16;break;case 15:t.t3=!0;case 16:if(!t.t3){t.next=20;break}t.t4=T,t.next=26;break;case 20:if(t.t5=T.contextElement,t.t5){t.next=25;break}return t.next=24,null==a.getDocumentElement?void 0:a.getDocumentElement(l.floating);case 24:t.t5=t.sent;case 25:t.t4=t.t5;case 26:return t.t6=t.t4,t.t7=h,t.t8=f,t.t9=c,t.t10={element:t.t6,boundary:t.t7,rootBoundary:t.t8,strategy:t.t9},t.next=33,t.t1.getClippingRect.call(t.t1,t.t10);case 33:if(t.t11=t.sent,O=(0,t.t0)(t.t11),t.t12=j,!a.convertOffsetParentRelativeRectToViewportRelativeRect){t.next=49;break}return t.t14=a,t.t15="floating"===y?g(g({},s.floating),{},{x:i,y:o}):s.reference,t.next=41,null==a.getOffsetParent?void 0:a.getOffsetParent(l.floating);case 41:return t.t16=t.sent,t.t17=c,t.t18={rect:t.t15,offsetParent:t.t16,strategy:t.t17},t.next=46,t.t14.convertOffsetParentRelativeRectToViewportRelativeRect.call(t.t14,t.t18);case 46:t.t13=t.sent,t.next=50;break;case 49:t.t13=s[y];case 50:return t.t19=t.t13,E=(0,t.t12)(t.t19),t.abrupt("return",{top:O.top-E.top+k.top,bottom:E.bottom-O.bottom+k.bottom,left:O.left-E.left+k.left,right:E.right-O.right+k.right});case 53:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}var K=Math.min,q=Math.max;function X(t,e,n){return q(t,K(e,n))}var Y=function(t){return{name:"arrow",options:t,fn:function(e){return f(v().mark((function n(){var r,i,o,a,s,l,c,u,d,h,p,f,y,g,b,x,w,k,C,T,O,E,A,R,P,L,F,D,M,N,W;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=(o=null!=t?t:{}).element,s=o.padding,l=void 0===s?0:s,c=e.x,u=e.y,d=e.placement,h=e.rects,p=e.platform,null!=a){n.next=5;break}return"production"!==process.env.NODE_ENV&&console.warn("Floating UI: No `element` was passed to the `arrow` middleware."),n.abrupt("return",{});case 5:return f=U(l),y={x:c,y:u},g=H(d),b=_(d),x=S(g),n.next=12,p.getDimensions(a);case 12:return w=n.sent,k="y"===g?"top":"left",C="y"===g?"bottom":"right",T=h.reference[x]+h.reference[g]-y[g]-h.floating[x],O=y[g]-h.reference[g],n.next=19,null==p.getOffsetParent?void 0:p.getOffsetParent(a);case 19:return E=n.sent,0===(A=E?"y"===g?E.clientHeight||0:E.clientWidth||0:0)&&(A=h.floating[x]),R=T/2-O/2,P=f[k],L=A-w[x]-f[C],F=A/2-w[x]/2+R,D=X(P,F,L),M="start"===b?f[k]:f[C],N=M>0&&F!==D&&h.reference[x]<=h.floating[x],W=N?F<P?P-F:L-F:0,n.abrupt("return",(m(i={},g,y[g]-W),m(i,"data",(m(r={},g,D),m(r,"centerOffset",F-D),r)),i));case 31:case"end":return n.stop()}}),n)})))()}}},Q={left:"right",right:"left",bottom:"top",top:"bottom"};function $(t){return t.replace(/left|right|bottom|top/g,(function(t){return Q[t]}))}function G(t,e,n){void 0===n&&(n=!1);var r=_(t),i=H(t),o=S(i),a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=$(a)),{main:a,cross:$(a)}}var J={start:"end",end:"start"};function Z(t){return t.replace(/start|end/g,(function(t){return J[t]}))}function tt(t){var e=$(t);return[Z(t),e,Z(e)]}var et=function(t){return void 0===t&&(t={}),{name:"flip",options:t,fn:function(e){return f(v().mark((function n(){var r,i,o,a,s,l,c,u,d,h,f,m,g,b,x,w,k,C,T,O,E,A,R,P,L,F,M,N,_,H,S,I,z,U,j;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.placement,o=e.middlewareData,a=e.rects,s=e.initialPlacement,l=e.platform,c=e.elements,d=(u=t).mainAxis,h=void 0===d||d,f=u.crossAxis,m=void 0===f||f,g=u.fallbackPlacements,b=u.fallbackStrategy,x=void 0===b?"bestFit":b,w=u.flipAlignment,k=void 0===w||w,C=y(u,D),T=W(i),O=T===s,E=g||(O||!k?[$(s)]:tt(s)),A=[s].concat(p(E)),n.next=8,B(e,C);case 8:if(R=n.sent,P=[],L=(null==(r=o.flip)?void 0:r.overflows)||[],h&&P.push(R[T]),!m){n.next=23;break}return n.t0=G,n.t1=i,n.t2=a,n.next=18,null==l.isRTL?void 0:l.isRTL(c.floating);case 18:n.t3=n.sent,F=(0,n.t0)(n.t1,n.t2,n.t3),M=F.main,N=F.cross,P.push(R[M],R[N]);case 23:if(L=[].concat(p(L),[{placement:i,overflows:P}]),P.every((function(t){return t<=0}))){n.next=40;break}if(S=(null!=(_=null==(H=o.flip)?void 0:H.index)?_:0)+1,!(I=A[S])){n.next=29;break}return n.abrupt("return",{data:{index:S,overflows:L},reset:{placement:I}});case 29:z="bottom",n.t4=x,n.next="bestFit"===n.t4?33:"initialPlacement"===n.t4?36:38;break;case 33:return j=null==(U=L.map((function(t){return[t,t.overflows.filter((function(t){return t>0})).reduce((function(t,e){return t+e}),0)]})).sort((function(t,e){return t[1]-e[1]}))[0])?void 0:U[0].placement,j&&(z=j),n.abrupt("break",38);case 36:return z=s,n.abrupt("break",38);case 38:if(i===z){n.next=40;break}return n.abrupt("return",{reset:{placement:z}});case 40:return n.abrupt("return",{});case 41:case"end":return n.stop()}}),n)})))()}}};function nt(t,e){return rt.apply(this,arguments)}function rt(){return rt=f(v().mark((function t(e,n){var r,i,o,a,s,l,c,u,d,h,p,f,m,y;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.placement,i=e.platform,o=e.elements,t.next=3,null==i.isRTL?void 0:i.isRTL(o.floating);case 3:return a=t.sent,s=W(r),l=_(r),c="x"===H(r),u=["left","top"].includes(s)?-1:1,d=a&&c?-1:1,h="function"==typeof n?n(e):n,p="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:g({mainAxis:0,crossAxis:0,alignmentAxis:null},h),f=p.mainAxis,m=p.crossAxis,y=p.alignmentAxis,l&&"number"==typeof y&&(m="end"===l?-1*y:y),t.abrupt("return",c?{x:m*d,y:f*u}:{x:f*u,y:m*d});case 13:case"end":return t.stop()}}),t)}))),rt.apply(this,arguments)}var it=function(t){return void 0===t&&(t=0),{name:"offset",options:t,fn:function(e){return f(v().mark((function n(){var r,i,o;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.x,i=e.y,n.next=3,nt(e,t);case 3:return o=n.sent,n.abrupt("return",{x:r+o.x,y:i+o.y,data:o});case 5:case"end":return n.stop()}}),n)})))()}}};var ot=function(t){return void 0===t&&(t={}),{name:"shift",options:t,fn:function(e){return f(v().mark((function n(){var r,i,o,a,s,l,c,u,d,h,p,f,b,x,w,k,C,T,O,E,A,R,P,L,F;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.x,o=e.y,a=e.placement,l=(s=t).mainAxis,c=void 0===l||l,u=s.crossAxis,d=void 0!==u&&u,h=s.limiter,p=void 0===h?{fn:function(t){return{x:t.x,y:t.y}}}:h,f=y(s,M),b={x:i,y:o},n.next=5,B(e,f);case 5:return x=n.sent,w=H(W(a)),k="x"===w?"y":"x",C=b[w],T=b[k],c&&(O="y"===w?"bottom":"right",E=C+x["y"===w?"top":"left"],A=C-x[O],C=X(E,C,A)),d&&(R="y"===k?"bottom":"right",P=T+x["y"===k?"top":"left"],L=T-x[R],T=X(P,T,L)),F=p.fn(g(g({},e),{},(m(r={},w,C),m(r,k,T),r))),n.abrupt("return",g(g({},F),{},{data:{x:F.x-i,y:F.y-o}}));case 14:case"end":return n.stop()}}),n)})))()}}},at=function(t){return void 0===t&&(t={}),{name:"size",options:t,fn:function(e){return f(v().mark((function n(){var r,i,o,a,s,l,c,u,d,h,p,f,m,b,x,w,k,C,T;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.placement,i=e.rects,o=e.platform,a=e.elements,l=(s=t).apply,c=y(s,N),n.next=4,B(e,c);case 4:if(u=n.sent,d=W(r),h=_(r),"top"!==d&&"bottom"!==d){n.next=26;break}return p=d,n.t0=h,n.next=12,null==o.isRTL?void 0:o.isRTL(a.floating);case 12:if(!n.sent){n.next=16;break}n.t1="start",n.next=17;break;case 16:n.t1="end";case 17:if(n.t2=n.t1,n.t0!==n.t2){n.next=22;break}n.t3="left",n.next=23;break;case 22:n.t3="right";case 23:f=n.t3,n.next=28;break;case 26:f=d,p="end"===h?"top":"bottom";case 28:return m=q(u.left,0),b=q(u.right,0),x=q(u.top,0),w=q(u.bottom,0),k={availableHeight:i.floating.height-(["left","right"].includes(r)?2*(0!==x||0!==w?x+w:q(u.top,u.bottom)):u[p]),availableWidth:i.floating.width-(["top","bottom"].includes(r)?2*(0!==m||0!==b?m+b:q(u.left,u.right)):u[f])},n.next=35,o.getDimensions(a.floating);case 35:return C=n.sent,null==l||l(g(g({},e),k)),n.next=39,o.getDimensions(a.floating);case 39:if(T=n.sent,C.width===T.width&&C.height===T.height){n.next=42;break}return n.abrupt("return",{reset:{rects:!0}});case 42:return n.abrupt("return",{});case 43:case"end":return n.stop()}}),n)})))()}}};function st(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function lt(t){if(null==t)return window;if(!st(t)){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ct(t){return lt(t).getComputedStyle(t)}function ut(t){return st(t)?"":t?(t.nodeName||"").toLowerCase():""}function dt(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function ht(t){return t instanceof lt(t).HTMLElement}function pt(t){return t instanceof lt(t).Element}function ft(t){return"undefined"!=typeof ShadowRoot&&(t instanceof lt(t).ShadowRoot||t instanceof ShadowRoot)}function vt(t){var e=ct(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function mt(t){return["table","td","th"].includes(ut(t))}function yt(t){var e=/firefox/i.test(dt()),n=ct(t);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter}function gt(){return!/^((?!chrome|android).)*safari/i.test(dt())}var bt=Math.min,xt=Math.max,wt=Math.round;function kt(t,e,n){var r,i,o,a;void 0===e&&(e=!1),void 0===n&&(n=!1);var s=t.getBoundingClientRect(),l=1,c=1;e&&ht(t)&&(l=t.offsetWidth>0&&wt(s.width)/t.offsetWidth||1,c=t.offsetHeight>0&&wt(s.height)/t.offsetHeight||1);var u=pt(t)?lt(t):window,d=!gt()&&n,h=(s.left+(d&&null!=(r=null==(i=u.visualViewport)?void 0:i.offsetLeft)?r:0))/l,p=(s.top+(d&&null!=(o=null==(a=u.visualViewport)?void 0:a.offsetTop)?o:0))/c,f=s.width/l,v=s.height/c;return{width:f,height:v,top:p,right:h+f,bottom:p+v,left:h,x:h,y:p}}function Ct(t){return(e=t,(e instanceof lt(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function Tt(t){return pt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ot(t){return kt(Ct(t)).left+Tt(t).scrollLeft}function Et(t,e,n){var r=ht(e),i=Ct(e),o=kt(t,r&&function(t){var e=kt(t);return wt(e.width)!==t.offsetWidth||wt(e.height)!==t.offsetHeight}(e),"fixed"===n),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==ut(e)||vt(i))&&(a=Tt(e)),ht(e)){var l=kt(e,!0);s.x=l.x+e.clientLeft,s.y=l.y+e.clientTop}else i&&(s.x=Ot(i));return{x:o.left+a.scrollLeft-s.x,y:o.top+a.scrollTop-s.y,width:o.width,height:o.height}}function At(t){return"html"===ut(t)?t:t.assignedSlot||t.parentNode||(ft(t)?t.host:null)||Ct(t)}function Rt(t){return ht(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function Pt(t){for(var e=lt(t),n=Rt(t);n&&mt(n)&&"static"===getComputedStyle(n).position;)n=Rt(n);return n&&("html"===ut(n)||"body"===ut(n)&&"static"===getComputedStyle(n).position&&!yt(n))?e:n||function(t){var e=At(t);for(ft(e)&&(e=e.host);ht(e)&&!["html","body"].includes(ut(e));){if(yt(e))return e;e=e.parentNode}return null}(t)||e}function Lt(t){if(ht(t))return{width:t.offsetWidth,height:t.offsetHeight};var e=kt(t);return{width:e.width,height:e.height}}function Ft(t){var e=At(t);return["html","body","#document"].includes(ut(e))?t.ownerDocument.body:ht(e)&&vt(e)?e:Ft(e)}function Dt(t,e){var n;void 0===e&&(e=[]);var r=Ft(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=lt(r),a=i?[o].concat(o.visualViewport||[],vt(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(Dt(a))}function Mt(t,e,n){return"viewport"===e?j(function(t,e){var n=lt(t),r=Ct(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=gt();(c||!c&&"fixed"===e)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}(t,n)):pt(e)?function(t,e){var n=kt(t,!1,"fixed"===e),r=n.top+t.clientTop,i=n.left+t.clientLeft;return{top:r,left:i,x:i,y:r,right:i+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e,n):j(function(t){var e,n=Ct(t),r=Tt(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=xt(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=xt(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Ot(t),l=-r.scrollTop;return"rtl"===ct(i||n).direction&&(s+=xt(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(Ct(t)))}function Nt(t){var e=Dt(t),n=["absolute","fixed"].includes(ct(t).position)&&ht(t)?Pt(t):t;return pt(n)?e.filter((function(t){return pt(t)&&function(t,e){var n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&ft(n)){var r=e;do{if(r&&t===r)return!0;r=r.parentNode||r.host}while(r)}return!1}(t,n)&&"body"!==ut(t)})):[]}var Wt,_t,Ht={getClippingRect:function(t){var e=t.element,n=t.boundary,r=t.rootBoundary,i=t.strategy,o="clippingAncestors"===n?Nt(e):[].concat(n),a=[].concat(p(o),[r]),s=a[0],l=a.reduce((function(t,n){var r=Mt(e,n,i);return t.top=xt(r.top,t.top),t.right=bt(r.right,t.right),t.bottom=bt(r.bottom,t.bottom),t.left=xt(r.left,t.left),t}),Mt(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){var e=t.rect,n=t.offsetParent,r=t.strategy,i=ht(n),o=Ct(n);if(n===o)return e;var a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if((i||!i&&"fixed"!==r)&&(("body"!==ut(n)||vt(o))&&(a=Tt(n)),ht(n))){var l=kt(n,!0);s.x=l.x+n.clientLeft,s.y=l.y+n.clientTop}return g(g({},e),{},{x:e.x-a.scrollLeft+s.x,y:e.y-a.scrollTop+s.y})},isElement:pt,getDimensions:Lt,getOffsetParent:Pt,getDocumentElement:Ct,getElementRects:function(t){var e=t.reference,n=t.floating,r=t.strategy;return{reference:Et(e,Pt(n),r),floating:g(g({},Lt(n)),{},{x:0,y:0})}},getClientRects:function(t){return Array.from(t.getClientRects())},isRTL:function(t){return"rtl"===ct(t).direction}},St={initial:"idle",states:{idle:{on:{active:"active"}},active:{on:{hiding:"hiding",idle:"idle"}},hiding:{on:{dispose:"dispose"}},dispose:{on:{disposed:"disposed"}},disposed:{on:{}}}},It=function(t,e){return t?e&&St.states[t].on[e]||t:St.initial},zt=function(t){var e;return null!==(e={left:["right","bottom","top"],"left-start":["right-start","bottom","top"],"left-end":["right-end","bottom","top"],right:["left","bottom","top"],"right-start":["left-start","bottom","top"],"right-end":["left-end","bottom","top"],top:["bottom","left","right"],"top-start":["bottom-start","left","right"],"top-end":["bottom-end","left","right"],bottom:["top","left","right"],"bottom-start":["top-start","left","right"],"bottom-end":["top-end","left","right"]}[t])&&void 0!==e?e:[t]},Ut=function(t){e(m,t);var o,a,c,u,h,p=n(m);function m(){var t;return r(this,m),(t=p.call(this))._state=It(),t.animating=!1,t.theme={},t.tabbingAway=!1,t.offset=6,t.skidding=0,t.interaction="hover",t.positionAnimationFrame=0,t.willNotifyClosed=!1,t.isConstrained=!1,t.updateOverlayPosition=f(v().mark((function e(){var n,r,i,o,a,s,l,c,u,d,h;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(t){var e=window.devicePixelRatio||1;return Math.round(t*e)/e||-1e4},t.placement&&"none"!==t.placement){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,document.fonts?document.fonts.ready:Promise.resolve();case 5:return 8,100,r=t.virtualTrigger?et({padding:8,fallbackPlacements:zt(t.placement)}):et({padding:8}),i=[it({mainAxis:t.offset,crossAxis:t.skidding}),ot({padding:8}),r,at({padding:8,apply:function(e){var n=e.availableWidth,r=e.availableHeight,i=e.rects.floating,o=Math.max(100,Math.floor(r)),a=i.height;t.initialHeight=(t.isConstrained||t.virtualTrigger)&&t.initialHeight||a,t.isConstrained=a<t.initialHeight||o<=a;var s=t.isConstrained?"".concat(o,"px"):"";Object.assign(t.style,{maxWidth:"".concat(Math.floor(n),"px"),maxHeight:s,height:s})}})],t.overlayContentTip&&i.push(Y({element:t.overlayContentTip})),e.next=12,p=t.virtualTrigger||t.trigger,f=x(t),v={placement:t.placement,middleware:i},z(p,f,g({platform:Ht},v));case 12:o=e.sent,a=o.x,s=o.y,l=o.placement,c=o.middlewareData,Object.assign(t.style,{top:"0px",left:"0px",transform:"translate(".concat(n(a),"px, ").concat(n(s),"px)")}),l!==t.getAttribute("actual-placement")&&(t.setAttribute("actual-placement",l),t.overlayContent.setAttribute("placement",l)),t.overlayContentTip&&c.arrow&&(u=c.arrow,d=u.x,h=u.y,Object.assign(t.overlayContentTip.style,{left:null!=d?"".concat(n(d),"px"):"",top:null!=h?"".concat(n(h),"px"):"",right:"",bottom:""}));case 20:case"end":return e.stop()}var p,f,v}),e)}))),t.handleInlineTriggerKeydown=function(e){var n=e.code,r=e.shiftKey;if("Tab"===n){if(r)return t.tabbingAway=!0,void t.dispatchEvent(new Event("close"));e.stopPropagation(),e.preventDefault(),t.focus()}},t.stealOverlayContentPromise=Promise.resolve(),t.stealOverlayContentPromise=new Promise((function(e){return t.stealOverlayContentResolver=e})),t}return i(m,[{key:"state",get:function(){return this._state},set:function(t){var e=It(this.state,t);e!==this.state&&(this._state=e,"active"===this.state||"hiding"===this.state?this.setAttribute("state",this.state):this.removeAttribute("state"))}},{key:"focus",value:(h=f(v().mark((function t(){var e,n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.querySelector('button:not([tabindex="-1"]), [href]:not([tabindex="-1"]), input:not([tabindex="-1"]), select:not([tabindex="-1"]), textarea:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"]), [focusable]:not([tabindex="-1"])'))){t.next=9;break}if(!e.updateComplete){t.next=5;break}return t.next=5,e.updateComplete;case 5:(n=this.getRootNode().activeElement)!==this&&this.contains(n)||e.focus(),t.next=10;break;case 9:s(l(m.prototype),"focus",this).call(this);case 10:this.removeAttribute("tabindex");case 11:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"hasTheme",get:function(){return!!this.theme.color||!!this.theme.scale||!!this.theme.lang}},{key:"hasModalRoot",get:function(){return!!this._modalRoot}},{key:"feature",value:function(){this.tabIndex=-1;var t=L(this.trigger);t&&"open"===t.slot&&(this._modalRoot=t._modalRoot||t),("modal"===this.interaction||this._modalRoot)&&(this.slot="open","modal"===this.interaction&&this.setAttribute("aria-modal","true"),this._modalRoot&&(null==t||t.feature()))}},{key:"obscure",value:function(t){if(this.slot&&"modal"===t){if(this.removeAttribute("slot"),this.removeAttribute("aria-modal"),"modal"!==this.interaction){var e=L(this.trigger);return this._modalRoot=null==e?void 0:e.obscure(t),this._modalRoot}return this}}},{key:"willUpdate",value:(u=f(v().mark((function t(){var e;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasUpdated){t.next=2;break}return t.abrupt("return");case 2:if(this.overlayContent&&this.trigger){t.next=4;break}return t.abrupt("return");case 4:if(this.stealOverlayContent(this.overlayContent),this.state="active",this.feature(),"none"!==this.placement){t.next=11;break}this.style.setProperty("--swc-visual-viewport-height","".concat(window.innerHeight,"px")),t.next=16;break;case 11:if(!this.placement){t.next=16;break}return t.next=14,this.updateOverlayPosition();case 14:document.addEventListener("sp-update-overlays",this.updateOverlayPosition),window.addEventListener("scroll",this.updateOverlayPosition);case 16:e=[],this.placement&&"none"!==this.placement&&e.push(this.applyContentAnimation("sp-overlay-fade-in")),void 0!==this.overlayContent.updateComplete&&e.push(this.overlayContent.updateComplete),this.childrenReady=Promise.all(e);case 20:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"openCallback",value:(c=f(v().mark((function t(e){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.updateComplete;case 2:if(!this.receivesFocus){t.next=5;break}return t.next=5,this.focus();case 5:return t.next=7,e();case 7:this.trigger.dispatchEvent(new CustomEvent("sp-opened",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:this.interaction}}));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"open",value:function(t){this.extractDetail(t)}},{key:"extractDetail",value:function(t){this.overlayContent=t.content,this.overlayContentTip=t.contentTip,this.trigger=t.trigger,this.virtualTrigger=t.virtualTrigger,this.placement=t.placement,this.offset=t.offset,this.skidding=t.skidding||0,this.interaction=t.interaction,this.theme=t.theme,this.receivesFocus=t.receivesFocus,this.root=t.root}},{key:"dispose",value:function(){"dispose"===this.state&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.trigger.removeEventListener("keydown",this.handleInlineTriggerKeydown),this.returnOverlayContent(),this.state="disposed",this.willNotifyClosed&&(this.overlayContent.dispatchEvent(new Event("sp-overlay-closed")),this.willNotifyClosed=!1))}},{key:"stealOverlayContent",value:function(t){this.originalPlacement=t.getAttribute("placement"),this.restoreContent=w([t],this,{position:"beforeend",prepareCallback:function(t){var e=t.slot,n=t.placement;return t.removeAttribute("slot"),function(t){t.slot=e,t.placement=n}}}),this.stealOverlayContentResolver()}},{key:"returnOverlayContent",value:function(){if(this.restoreContent){var t=this.restoreContent(),e=k(t,1)[0];this.restoreContent=void 0,this.willNotifyClosed=!0,this.originalPlacement&&(e.setAttribute("placement",this.originalPlacement),delete this.originalPlacement)}}},{key:"hide",value:(a=f(v().mark((function t(){var e,n=arguments;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!(n.length>0&&void 0!==n[0])||n[0],this.state="hiding",!e){t.next=5;break}return t.next=5,this.applyContentAnimation("sp-overlay-fade-out");case 5:this.state="dispose";case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"schedulePositionUpdate",value:function(){var t=this;cancelAnimationFrame(this.positionAnimationFrame),this.positionAnimationFrame=requestAnimationFrame((function(){return t.updateOverlayPosition()}))}},{key:"onSlotChange",value:function(){this.schedulePositionUpdate()}},{key:"applyContentAnimation",value:function(t){var e=this;return"none"===this.placement?Promise.resolve(!0):new Promise((function(n){var r=e.shadowRoot.querySelector("#contents"),i=function i(o){t===o.animationName&&(r.removeEventListener("animationend",i),r.removeEventListener("animationcancel",i),e.animating=!1,n("animationcancel"===o.type))};r.addEventListener("animationend",i),r.addEventListener("animationcancel",i),r.style.animationName=t,e.animating=!0}))}},{key:"renderTheme",value:function(t){var e=this.theme,n=e.color,r=e.scale,i=e.lang,o=e.theme;return C(Wt||(Wt=d(["\n            <sp-theme\n                theme=","\n                color=","\n                scale=","\n                lang=",'\n                part="theme"\n            >\n                ',"\n            </sp-theme>\n        "])),T(o),T(n),T(r),T(i),t)}},{key:"render",value:function(){var t=C(_t||(_t=d(['\n            <div id="contents">\n                <slot @slotchange=',"></slot>\n            </div>\n        "])),this.onSlotChange);return this.hasTheme?this.renderTheme(t):t}},{key:"getUpdateComplete",value:(o=f(v().mark((function t(){var e,n,r,i;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[s(l(m.prototype),"getUpdateComplete",this).call(this),this.stealOverlayContentPromise],this.childrenReady&&e.push(this.childrenReady),t.next=4,Promise.all(e);case 4:return n=t.sent,r=k(n,1),i=r[0],t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){document.removeEventListener("sp-update-overlays",this.updateOverlayPosition),window.removeEventListener("scroll",this.updateOverlayPosition),s(l(m.prototype),"disconnectedCallback",this).call(this)}}],[{key:"styles",get:function(){return[P]}},{key:"create",value:function(t){var e=new m;return t.content&&e.open(t),e}}]),m}(R);o([a()],Ut.prototype,"_state",void 0),o([a({reflect:!0,type:Boolean})],Ut.prototype,"animating",void 0),o([a({reflect:!0})],Ut.prototype,"placement",void 0),o([a({attribute:!1})],Ut.prototype,"theme",void 0),o([a({attribute:!1})],Ut.prototype,"receivesFocus",void 0);var jt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,e)}var e;return i(t,[{key:"openTimer",value:(e=f(v().mark((function t(e){var n=this;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.cancelCooldownTimer(),this.component&&e===this.component){t.next=10;break}if(this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=e,!this.isWarm){t.next=6;break}return t.abrupt("return",!1);case 6:return this.promise=new Promise((function(t){n.resolve=t,n.timeout=window.setTimeout((function(){n.resolve&&(n.resolve(!1),n.isWarm=!0)}),n.warmUpDelay)})),t.abrupt("return",this.promise);case 10:if(!this.promise){t.next=14;break}return t.abrupt("return",this.promise);case 14:throw new Error("Inconsistent state");case 15:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"close",value:function(t){this.component&&this.component===t&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}},{key:"resetCooldownTimer",value:function(){var t=this;this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout((function(){t.isWarm=!1,delete t.cooldownTimeout}),this.coolDownDelay))}},{key:"cancelCooldownTimer",value:function(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}]),t}();customElements.define("active-overlay",Ut);var Bt=function(t,e){for(var n=document.elementFromPoint(t,e);null==n?void 0:n.shadowRoot;){var r=n.shadowRoot.elementFromPoint(t,e);if(!r||r===n)break;n=r}return n};var Vt=function(){function t(){var e=this;r(this,t),this.overlays=[],this.preventMouseRootClose=!1,this.root=document.body,this.handlingResize=!1,this.overlayTimer=new jt,this.canTabTrap=!0,this.trappingInited=!1,this._eventsAreBound=!1,this._bodyMarginsApplied=!1,this.forwardContextmenuEvent=function(){var t=f(v().mark((function t(n){var r,i;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.overlays[e.overlays.length-1],e.trappingInited&&"modal"===i.interaction&&n.target===e.overlayHolder){t.next=3;break}return t.abrupt("return");case 3:return n.stopPropagation(),n.preventDefault(),t.next=7,e.closeTopOverlay();case 7:null===(r=Bt(n.clientX,n.clientY))||void 0===r||r.dispatchEvent(new MouseEvent("contextmenu",n));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.handleOverlayClose=function(t){var n=t.root;n&&e.closeOverlaysForRoot(n)},this.handleMouseCapture=function(t){var n=e.topOverlay;if(t.target&&n&&n.overlayContent&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)&&function(t){return 0===t.button}(t)){if(t.target instanceof Node){if(t.composedPath().indexOf(n.overlayContent)>=0)return void(e.preventMouseRootClose=!0);e.preventMouseRootClose=!1}}else e.preventMouseRootClose=!0},this._doesNotCloseOnFirstClick=!1,this.handleMouse=function(t){var n;if(e._doesNotCloseOnFirstClick)e._doesNotCloseOnFirstClick=!1;else if(!e.preventMouseRootClose&&!t.defaultPrevented){e.closeTopOverlay();for(var r=[],i=null===(n=e.topOverlay)||void 0===n?void 0:n.root,o=L(i);i&&o;)r.push(o),i=null==(o=L(i))?void 0:o.root;o&&r.push(o),r.forEach((function(t){return e.hideAndCloseOverlay(t)}))}},this.handleKeyUp=function(t){"Escape"===t.code&&e.closeTopOverlay()},this.handleResize=function(){e.handlingResize||(e.handlingResize=!0,requestAnimationFrame(f(v().mark((function t(){var n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.overlays.map((function(t){return t.updateOverlayPosition()})),t.next=3,Promise.all(n);case 3:e.handlingResize=!1;case 4:case"end":return t.stop()}}),t)})))))}}var e,n,o;return i(t,[{key:"initTabTrapping",value:function(){var t=this;if(!this.trappingInited)if(this.trappingInited=!0,this.document.body.shadowRoot)this.canTabTrap=!1;else if(this.document.body.attachShadow({mode:"open"}),this.document.body.shadowRoot){var e=this.document.body.shadowRoot;e.innerHTML='\n            <style>\n            :host {\n                position: relative;\n            }\n            #actual {\n                position: relative;\n                height: calc(100% - var(--swc-body-margins-block, 0px));\n                z-index: 0;\n                min-height: calc(100vh - var(--swc-body-margins-block, 0px));\n            }\n            #holder {\n                display: none;\n                align-items: center;\n                justify-content: center;\n                flex-flow: column;\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                left: 0;\n            }\n            [name="open"]::slotted(*) {\n                pointer-events: all;\n            }\n            #actual[aria-hidden] + #holder {\n                display: flex;\n            }\n            </style>\n            <div id="actual"><slot></slot></div>\n            <div id="holder"><slot name="open"></slot></div>\n        ',this.tabTrapper=e.querySelector("#actual"),this.overlayHolder=e.querySelector("#holder"),this.tabTrapper.attachShadow({mode:"open"}),this.tabTrapper.shadowRoot&&(this.tabTrapper.shadowRoot.innerHTML="<slot></slot>"),this.overlayHolder.addEventListener("contextmenu",this.forwardContextmenuEvent,!0),requestAnimationFrame((function(){t.applyBodyMargins(),new ResizeObserver((function(){t.applyBodyMargins()})).observe(document.body)}))}}},{key:"applyBodyMargins",value:function(){var t=getComputedStyle(document.body),e=t.marginLeft,n=t.marginRight,r=t.marginTop,i=t.marginBottom,o=0===parseFloat(e)&&0===parseFloat(n)&&0===parseFloat(r)&&0===parseFloat(i);o&&!this._bodyMarginsApplied||(this.tabTrapper.style.setProperty("--swc-body-margins-inline","calc(".concat(e," + ").concat(n,")")),this.tabTrapper.style.setProperty("--swc-body-margins-block","calc(".concat(r," + ").concat(i,")")),this._bodyMarginsApplied=!o)}},{key:"startTabTrapping",value:function(){this.initTabTrapping(),this.canTabTrap&&(this.tabTrapper.tabIndex=-1,this.tabTrapper.setAttribute("aria-hidden","true"))}},{key:"stopTabTrapping",value:function(){this.canTabTrap&&this.trappingInited&&(this.tabTrapper.removeAttribute("tabindex"),this.tabTrapper.removeAttribute("aria-hidden"))}},{key:"document",get:function(){return this.root.ownerDocument||document}},{key:"topOverlay",get:function(){return this.overlays.slice(-1)[0]}},{key:"findOverlayForContent",value:function(t){var e,n=h(this.overlays);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t===r.overlayContent)return r}}catch(t){n.e(t)}finally{n.f()}}},{key:"addEventListeners",value:function(){this._eventsAreBound||(this._eventsAreBound=!0,this.document.addEventListener("click",this.handleMouseCapture,!0),this.document.addEventListener("click",this.handleMouse),this.document.addEventListener("keyup",this.handleKeyUp),this.document.addEventListener("sp-overlay-close",this.handleOverlayClose),window.addEventListener("resize",this.handleResize))}},{key:"isClickOverlayActiveForTrigger",value:function(t){return this.overlays.some((function(e){return t===e.trigger&&"click"===e.interaction}))}},{key:"openOverlay",value:(o=f(v().mark((function t(e){var n,r,i,o,a,s,l,c=this;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.addEventListeners(),!this.findOverlayForContent(e.content)){t.next=3;break}return t.abrupt("return",!1);case 3:if(e.notImmediatelyClosable&&(this._doesNotCloseOnFirstClick=!0),"modal"===e.interaction&&this.startTabTrapping(),(n=e.content).overlayWillOpenCallback&&(r=e.trigger,n.overlayWillOpenCallback({trigger:r})),!e.delayed){t.next=17;break}return i=this.overlayTimer.openTimer(e.content),o=[i],e.abortPromise&&o.push(e.abortPromise),t.next=13,Promise.race(o);case 13:if(!(a=t.sent)){t.next=17;break}return n.overlayOpenCancelledCallback&&(s=e.trigger,n.overlayOpenCancelledCallback({trigger:s})),t.abrupt("return",a);case 17:if(e.root&&this.closeOverlaysForRoot(e.root),"click"!==e.interaction){t.next=22;break}this.closeAllHoverOverlays(),t.next=24;break;case 22:if("hover"!==e.interaction||!this.isClickOverlayActiveForTrigger(e.trigger)){t.next=24;break}return t.abrupt("return",!0);case 24:return l=Ut.create(e),this.overlays.length&&this.overlays[this.overlays.length-1].obscure(l.interaction),document.body.appendChild(l),t.abrupt("return",new Promise((function(t){return requestAnimationFrame(t)})).then(f(v().mark((function t(){var e,r,i;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.overlays.push(l),t.next=3,l.updateComplete;case 3:return c.addOverlayEventListeners(l),void 0!==n.open&&(n.open=!0),e=function(){},n.overlayOpenCallback&&(r=l.trigger,i=n.overlayOpenCallback,e=function(){var t=f(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i({trigger:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),t.next=9,l.openCallback(e);case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)})))));case 28:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"addOverlayEventListeners",value:function(t){var e=this;switch(t.addEventListener("close",(function(){e.hideAndCloseOverlay(t,!0)})),t.interaction){case"replace":this.addReplaceOverlayEventListeners(t);break;case"inline":this.addInlineOverlayEventListeners(t)}}},{key:"addReplaceOverlayEventListeners",value:function(t){var e=this;t.addEventListener("keydown",(function(n){"Tab"===n.code&&(n.stopPropagation(),e.closeOverlay(t.overlayContent),t.tabbingAway=!0,t.trigger.focus(),t.trigger.dispatchEvent(new KeyboardEvent("keydown",n)))}))}},{key:"addInlineOverlayEventListeners",value:function(t){var e=this;t.trigger.addEventListener("keydown",t.handleInlineTriggerKeydown),t.addEventListener("keydown",(function(n){var r=n.code,i=n.shiftKey;if("Tab"===r){if(t.tabbingAway=!0,i){var o=document.createElement("span");return o.tabIndex=-1,t.trigger.hasAttribute("slot")&&(o.slot=t.trigger.slot),t.trigger.insertAdjacentElement("afterend",o),o.focus(),void o.remove()}n.stopPropagation();var a=t.trigger;void 0!==a.open&&(a.open=!1),e.closeOverlay(t.overlayContent),t.trigger.focus()}}))}},{key:"closeOverlay",value:function(t){var e=this;this.overlayTimer.close(t),requestAnimationFrame((function(){var n=e.findOverlayForContent(t),r=[n];r.push.apply(r,p(F(n,e.overlays))),r.forEach((function(t){return e.hideAndCloseOverlay(t)}))}))}},{key:"closeAllHoverOverlays",value:function(){var t,e=h(this.overlays);try{for(e.s();!(t=e.n()).done;){var n=t.value;"hover"===n.interaction&&this.hideAndCloseOverlay(n,!1)}}catch(t){e.e(t)}finally{e.f()}}},{key:"closeOverlaysForRoot",value:function(t){var e,n=this,r=[],i=h(this.overlays);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.root&&o.root===t&&(r.push(o),r.push.apply(r,p(F(o,this.overlays))))}}catch(t){i.e(t)}finally{i.f()}r.forEach((function(t){return n.hideAndCloseOverlay(t,!0,!0)}))}},{key:"manageFocusAfterCloseWhenOverlaysRemain",value:(n=f(v().mark((function t(e){var n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.overlays[this.overlays.length-1]).feature(),"modal"!==n.interaction&&!n.hasModalRoot){t.next=9;break}if(!e){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,n.focus();case 7:t.next=10;break;case 9:this.stopTabTrapping();case 10:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"manageFocusAfterCloseWhenLastOverlay",value:function(t){this.stopTabTrapping();var e="modal"===t.interaction,n="auto"===t.receivesFocus,r="replace"===t.interaction,i="inline"===t.interaction,o=(r||i)&&!t.tabbingAway;if(t.tabbingAway=!1,e||n||o){var a,s,l=t.overlayContent.getRootNode().activeElement;(e||t.overlayContent.contains(l)||(a=t.trigger.getRootNode(),s=a.activeElement,a.contains(s))||a.host&&a.host===s)&&t.trigger.focus()}}},{key:"hideAndCloseOverlay",value:(e=f(v().mark((function t(e,n,r){var i,o,a,s;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(void 0===(i=e.overlayContent).overlayWillCloseCallback){t.next=7;break}if(o=e.trigger,!i.overlayWillCloseCallback({trigger:o})){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.hide(n);case 9:if(void 0!==i.open&&(i.open=!1),!i.overlayCloseCallback){t.next=14;break}return a=e.trigger,t.next=14,i.overlayCloseCallback({trigger:a});case 14:if("dispose"==e.state){t.next=16;break}return t.abrupt("return");case 16:if((s=this.overlays.indexOf(e))>=0&&this.overlays.splice(s,1),!this.overlays.length){t.next=23;break}return t.next=21,this.manageFocusAfterCloseWhenOverlaysRemain(r);case 21:t.next=24;break;case 23:this.manageFocusAfterCloseWhenLastOverlay(e);case 24:e.remove(),e.dispose(),e.trigger.dispatchEvent(new CustomEvent("sp-closed",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:e.interaction}}));case 27:case"end":return t.stop()}}),t,this)}))),function(t,n,r){return e.apply(this,arguments)})},{key:"closeTopOverlay",value:function(){return this.hideAndCloseOverlay(this.topOverlay,!0)}}]),t}(),Kt=t("Overlay",function(){function t(e,n,i){r(this,t),this.isOpen=!1,this.owner=e,this.overlayElement=i,this.interaction=n}var e,n;return i(t,[{key:"open",value:(n=f(v().mark((function e(n){var r,i,o,a,s,l,c,u,d,h,p,f,m,y;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.abortPromise,i=n.delayed,o=n.offset,a=void 0===o?0:o,s=n.placement,l=void 0===s?"top":s,c=n.receivesFocus,u=n.notImmediatelyClosable,d=n.virtualTrigger,h=n.root,!this.isOpen){e.next=3;break}return e.abrupt("return",!0);case 3:return void 0===i&&(i=this.overlayElement.hasAttribute("delayed")),p={color:void 0,scale:void 0,lang:void 0,theme:void 0},f=new CustomEvent("sp-query-theme",{bubbles:!0,composed:!0,detail:p,cancelable:!0}),this.owner.dispatchEvent(f),m={},y=new CustomEvent("sp-overlay-query",{bubbles:!0,composed:!0,detail:m,cancelable:!0}),this.overlayElement.dispatchEvent(y),e.next=12,t.overlayStack.openOverlay(Object.assign({abortPromise:r,content:this.overlayElement,contentTip:m.overlayContentTipElement,delayed:i,offset:a,placement:l,trigger:this.owner,interaction:this.interaction,theme:p,receivesFocus:c,root:h,notImmediatelyClosable:u,virtualTrigger:d},m));case 12:return this.isOpen=!0,e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)}))),function(t){return n.apply(this,arguments)})},{key:"close",value:function(){t.overlayStack.closeOverlay(this.overlayElement)}}],[{key:"open",value:(e=f(v().mark((function e(n,r,i,o){var a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new t(n,r,i),e.next=3,a.open(o);case 3:return e.abrupt("return",(function(){a.close()}));case 4:case"end":return e.stop()}}),e)}))),function(t,n,r,i){return e.apply(this,arguments)})},{key:"update",value:function(){var t=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(t)}}]),t}());Kt.overlayStack=new Vt}}}));
